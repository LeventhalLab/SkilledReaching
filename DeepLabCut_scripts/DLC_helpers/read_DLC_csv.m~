function [bodyparts,Data] = read_DLC_csv(fname,varargin)
% function to read in a csv file generated by deepLabCut
% DLC format:
%   row 1: "scorer" followed by a scorer label in each column
%   row 2: "bodyparts" followed by the same label in 3 consecutive columns
%       before switching to a new bodypart label

% INPUTS:
%
% OUTPUTS:


numHeaderLines = 3;

fid = fopen(fname,'r');

% read first two lines into a string
temp = textscan(fid,'%s',2,'Delimiter','\n');
bodyparts = textscan(temp{1}{2},'%s','delimiter',',');
bodyparts = {bodyparts{1}{2:end}};
bodyparts = unique(bodyparts);


% assume variables are stored as x,y,likelihood; may need modification if
% DLC version changes the way data are stored

% varNames = textscan(temp{1}{3},'%s',4,'delimiter',',');
csvData = csvread(fname, numHeaderLines, 1);

T = readtable(fname,'headerlines',numHeaderLines,'readrownames',true);

end