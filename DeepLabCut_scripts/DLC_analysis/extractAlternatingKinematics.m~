function alternateKinematics = extractAlternatingKinematics(reachData,alternateKinematics)

% assume 5 reaches per on/off block
trials_per_block = 5;

startBlockLaserOn = true;      % true for laser on, false for laser off in the first block

[trialNumbers,pd_endPts, dig2_endPts] = extractReachEndPoints(reachData);
[~,end_aperture] = extractReachEndApertures(reachData);
[~,end_orientation] = extractReachEndOrientation(reachData);
max_pd_v = extract_max_v(reachData);

% create a mask for laser on vs off trials
numTrials = length(reachData);
numBlocks = ceil(numTrials/trials_per_block);

if startBlockLaserOn
    num_on_blocks = ceil(numBlocks/2);
    num_off_blocks = floor(numBlocks/2);
else
    num_on_blocks = floor(numBlocks/2);
    num_off_blocks = ceil(numBlocks/2);
end
alternateKinematics.on_pd_endPts = NaN(num_on_blocks,trials_per_block,3);
alternateKinematics.off_pd_endPts = NaN(num_off_blocks,trials_per_block,3);

alternateKinematics.on_dig2_endPts = NaN(num_on_blocks,trials_per_block,3);
alternateKinematics.off_dig2_endPts = NaN(num_off_blocks,trials_per_block,3);

alternateKinematics.on_endAperture = NaN(num_on_blocks,trials_per_block);
alternateKinematics.off_endAperture = NaN(num_off_blocks,trials_per_block);

alternateKinematics.on_endOrientation = NaN(num_on_blocks,trials_per_block);
alternateKinematics.off_endOrientation = NaN(num_off_blocks,trials_per_block);

alternateKinematics.on_max_pd_v = NaN(num_on_blocks,trials_per_block);
alternateKinematics.off_max_pd_v = NaN(num_off_blocks,trials_per_block);

laserOnFlag = false(numTrials,1);

currentBlockFlag = startBlockLaserOn;
cur_on_block = 0;
cur_off_block = 0;
for i_block = 1 : numBlocks
    block_start_idx = (i_block-1)*trials_per_block + 1;
    block_end_idx = min(i_block*trials_per_block,numTrials);
    
    laserOnFlag(block_start_idx:block_end_idx) = currentBlockFlag;
    
    if currentBlockFlag
        % this is a laser on block
        cur_on_block = cur_on_block + 1;
        alternateKinematics.on_pd_endPts(cur_on_block,:,:
    currentBlockFlag = ~currentBlockFlag;
end